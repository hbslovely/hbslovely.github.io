<div [class]="config.className">
  <div class="container" [style.maxWidth.px]="config.maxWidth">
    <app-section-header
      title="SECTIONS.TECHNICAL_SKILLS"
      icon="tool"
      subtitle="{{ 'SKILLS.DESCRIPTION' | translate}}">
    </app-section-header>

    <div class="skills-content">
      <!-- Skills Grid -->
      <div class="skills-grid">
        @for (category of Object.keys(cv()?.skills?.technicalSkills || {}); track category) {
          <div class="skill-section">
            <div class="section-header">
              <div class="header-icon">
                <span nz-icon [nzType]="getTechnologyIcon(category)" nzTheme="outline"></span>
              </div>
              <div class="header-content">
                <h3>{{ formatCategory(category) }}</h3>
                <span class="skill-count">{{ cv()?.skills?.technicalSkills?.[category]?.length || 0 }} {{ 'SKILLS.SKILLS' | translate }}</span>
              </div>
            </div>
            <div class="skill-tags">
              @for (skill of cv()?.skills?.technicalSkills?.[category]; track skill) {
                <app-skill-item
                  [name]="skill"
                  [experience]="getSkillExperience(skill)"
                  [color]="getTagColor(skill)"
                  [experiencePercentage]="getExperiencePercentage(skill)"
                  (onClick)="showSkillInfo(skill)"
                ></app-skill-item>
              }
            </div>
          </div>
        }
      </div>

      <!-- View Projects Link -->
      <div class="view-projects-section">
        <a routerLink="/projects" class="view-projects">{{ 'SKILLS.VIEW_PROJECTS' | translate }}</a>
        <p class="projects-hint">{{ 'SKILLS.PROJECTS_HINT' | translate }}</p>
      </div>
    </div>
  </div>
</div>

<!-- Skill Detail Dialog Template -->
<ng-template #skillDetailDialog>
  <app-skill-detail
    [info]="selectedSkill!"
    (close)="closeSkillDetailDialog()"
    [projectCount]="selectedSkillProjectCount">
  </app-skill-detail>
</ng-template>
