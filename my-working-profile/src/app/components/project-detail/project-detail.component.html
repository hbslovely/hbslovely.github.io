<div class="project-detail" [class.list-view]="viewType === 'list'">
  <!-- Project Header -->
  <div class="project-header">
    <div class="header-main">
      <div class="title-section">
        <h3>{{ project.name }}</h3>
        @if (project.status) {
          <div class="project-status">
            <nz-tag [nzColor]="getTagColor(capitalizeStatus(project.status), 'status')">
              {{ capitalizeStatus(project.status) }}
            </nz-tag>
          </div>
        }
      </div>
      <div class="project-links">
        @if (project.github) {
          <a [href]="project.github" target="_blank" class="link-icon" title="View Source on GitHub">
            <span nz-icon nzType="github" nzTheme="outline"></span>
          </a>
        }
        @if (project.demo) {
          <a [href]="project.demo" target="_blank" class="link-icon" title="View Live Demo">
            <span nz-icon nzType="link" nzTheme="outline"></span>
          </a>
        }
      </div>
    </div>

    <!-- Project Meta Info -->
    <div class="project-meta">
      @if (project.company) {
        <div class="meta-item">
          <span nz-icon nzType="team" nzTheme="outline"></span>
          <span>{{ project.company }}</span>
        </div>
      }
      <div class="meta-item">
        <span nz-icon nzType="calendar" nzTheme="outline"></span>
        <span>{{ project.duration }}</span>
      </div>
      @if (project.teamSize) {
        <div class="meta-item">
          <span nz-icon nzType="user" nzTheme="outline"></span>
          <span>Team Size: {{ project.teamSize }}</span>
        </div>
      }
    </div>
  </div>

  <!-- Project Content -->
  <div class="project-content" [class.expanded]="isExpanded">
    <!-- Description -->
    <div class="description">
      <p>{{ project.description }}</p>
    </div>

    <!-- Tech Stack -->
    <div class="tech-stack">
      <h4>
        <span nz-icon nzType="code" nzTheme="outline"></span>
        Technologies Used
      </h4>
      <div class="tech-tags">
        @for (tech of project.technologies; track tech) {
          <div
            class="tech-tag"
            [class.active]="isTechnologySelected(tech)"
            (click)="technologyClick.emit(tech)"
          >
            <span nz-icon [nzType]="getTechnologyIcon(tech)" nzTheme="outline"></span>
            {{ tech }}
          </div>
        }
      </div>
    </div>

    <!-- Expandable Content -->
    @if (viewType === 'list') {
      <button class="expand-toggle" (click)="toggleExpand.emit()">
        <span>{{ isExpanded ? 'Show Less' : 'Show More' }}</span>
        <span nz-icon [nzType]="isExpanded ? 'up' : 'down'" nzTheme="outline"></span>
      </button>
    }

    <div class="detailed-content" [class.visible]="viewType === 'grid' || isExpanded">
      <!-- Role & Responsibilities -->
      <div class="role-section">
        <h4>
          <span nz-icon nzType="user" nzTheme="outline"></span>
          Role & Responsibilities
        </h4>
        <p>{{ project.role }}</p>
      </div>

      <!-- Project Scope -->
      @if (project.scope) {
        <div class="scope-section">
          <h4>
            <span nz-icon nzType="aim" nzTheme="outline"></span>
            Project Scope
          </h4>
          <nz-tag [nzColor]="getTagColor(project.scope, 'scope')">{{ project.scope }}</nz-tag>
        </div>
      }

      <!-- Development Environment -->
      @if (project.environment?.length) {
        <div class="environment-section">
          <h4>
            <span nz-icon nzType="cluster" nzTheme="outline"></span>
            Development Environment
          </h4>
          <div class="env-tags">
            @for (env of project.environment; track env) {
              <nz-tag [nzColor]="getTagColor(env)">{{ env }}</nz-tag>
            }
          </div>
        </div>
      }

      <!-- Key Achievements -->
      @if (project.achievements?.length) {
        <div class="achievements-section">
          <h4>
            <span nz-icon nzType="trophy" nzTheme="outline"></span>
            Key Achievements
          </h4>
          <ul>
            @for (achievement of project.achievements; track achievement) {
              <li>
                <span nz-icon nzType="check" nzTheme="outline"></span>
                {{ achievement }}
              </li>
            }
          </ul>
        </div>
      }
    </div>
  </div>
</div> 