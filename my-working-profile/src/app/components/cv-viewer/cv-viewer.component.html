<div class="cv-container">
  @if (isLoading()) {
    <div class="loading-container">
      <nz-spin nzSize="large" nzTip="Loading CV data..."></nz-spin>
    </div>
  }

  @if (hasError()) {
    <nz-alert nzType="error" [nzMessage]="hasError()"></nz-alert>
  }

  @if (cv()) {
    <div id="cv-content" class="cv-content">
      <!-- Header with Export button -->
      <div class="cv-actions">
        <button nz-button nzType="primary" (click)="exportToPDF()">
          <span nz-icon nzType="download"></span>
          Export PDF
        </button>
      </div>

      <!-- Personal Information -->
      <div class="cv-section cv-personal-info">
        <app-personal-info [info]="cv()?.personalInfo"></app-personal-info>
      </div>

      <!-- Work Experience -->
      <div class="cv-section cv-experience">
        <app-experience [experiences]="cv()?.experience?.workExperience"></app-experience>
      </div>

      <!-- Skills -->
      <div class="cv-section cv-skills">
        <app-skills [skills]="cv()?.skills"></app-skills>
      </div>

      <!-- Projects -->
      <div class="cv-section cv-projects">
        <app-projects [projects]="cv()?.projects?.projects"></app-projects>
      </div>
    </div>
  }
</div>
