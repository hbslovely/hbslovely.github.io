<div class="app-container">
  <app-nav-bar (onDownload)="handleDownload($event)"></app-nav-bar>
  
  <main class="main-content">
    <div class="cv-container">
      <div id="cv-content" class="cv-content">
        @if (isLoading()) {
          <div class="loading-container">
            <nz-spin nzTip="Loading CV..."></nz-spin>
          </div>
        } @else if (hasError()) {
          <div class="error-message">
            Failed to load CV data. Please try again later.
          </div>
        } @else {
          <section id="about" class="section">
            <app-personal-info [info]="cv()?.personalInfo"></app-personal-info>
          </section>

          <section id="experience" class="section">
            <app-experience 
              [workExperience]="cv()?.experience?.workExperience"
              [education]="cv()?.education?.education">
            </app-experience>
          </section>

          <section id="skills" class="section">
            <app-skills [skills]="cv()?.skills"></app-skills>
          </section>

          <section id="projects" class="section">
            <app-projects [projects]="cv()?.projects?.projects"></app-projects>
          </section>
        }
      </div>
    </div>
  </main>
</div>
