<div class="text-center mb-5">
  <h1 class="card-title">üì∏ Album ·∫¢nh K·ª∑ Ni·ªám</h1>
  <p class="text-lg text-muted">B·ªô s∆∞u t·∫≠p nh·ªØng kho·∫£nh kh·∫Øc ƒë·∫πp nh·∫•t c·ªßa ch√∫ng em</p>
</div>

<!-- Album Cover -->
<div class="album-cover-container mb-6">
  <div class="glass-card album-cover p-6 text-center">
    <div class="album-title mb-4">
      <h2 class="card-heading">üíï Our Love Story</h2>
      <p class="text-muted">Ba Heo & Heo B·ªâm</p>
      <div class="album-date">{{ albumPhotos.length }} photos ‚Ä¢ 2020 - 2025</div>
    </div>
    <div class="album-preview-grid">
      <div *ngFor="let photo of albumPhotos.slice(0, 4); let i = index" 
           class="preview-photo"
           [style.transform]="'rotate(' + (i % 2 === 0 ? -2 : 2) + 'deg)'">
        <img [src]="photo.src" [alt]="photo.caption" class="w-full h-full object-cover">
      </div>
    </div>
  </div>
</div>

<!-- Photo Grid -->
<div class="photo-album-grid">
  <div *ngFor="let photo of albumPhotos; let i = index" 
       class="photo-item animate-fadeInScale" 
       [style.animation-delay]="(i * 0.1) + 's'"
       (click)="openLightbox(i)">
    <div class="photo-frame">
      <img [src]="photo.src" [alt]="photo.caption" class="album-photo">
      <div class="photo-caption">
        <h4>{{ photo.caption }}</h4>
        <small>Photo {{ i + 1 }}</small>
      </div>
      <div class="photo-overlay">
        <i class="pi pi-search-plus text-white text-2xl"></i>
      </div>
    </div>
  </div>
</div>

<!-- Lightbox Modal -->
<div *ngIf="showLightbox" class="lightbox-overlay" (click)="closeLightbox()">
  <div class="lightbox-content" (click)="$event.stopPropagation()">
    <div class="lightbox-header">
      <h3>{{ albumPhotos[currentImageIndex]?.caption }}</h3>
      <button class="lightbox-close" (click)="closeLightbox()">
        <i class="pi pi-times"></i>
      </button>
    </div>
    
    <div class="lightbox-image-container">
      <button class="lightbox-nav lightbox-prev" 
              (click)="previousImage()" 
              [disabled]="currentImageIndex === 0">
        <i class="pi pi-chevron-left"></i>
      </button>
      
      <img [src]="albumPhotos[currentImageIndex]?.src" 
           [alt]="albumPhotos[currentImageIndex]?.caption"
           class="lightbox-image">
      
      <button class="lightbox-nav lightbox-next" 
              (click)="nextImage()" 
              [disabled]="currentImageIndex === albumPhotos.length - 1">
        <i class="pi pi-chevron-right"></i>
      </button>
    </div>
    
    <div class="lightbox-footer">
      <p>{{ albumPhotos[currentImageIndex]?.caption }}</p>
      <div class="lightbox-counter">
        {{ currentImageIndex + 1 }} / {{ albumPhotos.length }}
      </div>
    </div>
  </div>
</div>

<div class="text-center mt-5" *ngIf="albumPhotos.length === 0">
  <div class="glass-card p-5">
    <i class="pi pi-image text-primary" style="font-size: 3rem;"></i>
    <h3 class="card-heading mt-3">ƒêang t·∫£i album...</h3>
    <p class="text-muted">Nh·ªØng kho·∫£nh kh·∫Øc ƒë·∫πp s·∫Ω s·ªõm xu·∫•t hi·ªán ·ªü ƒë√¢y!</p>
  </div>
</div>
