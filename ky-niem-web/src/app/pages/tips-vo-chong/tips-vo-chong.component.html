<!-- Custom Header Section -->
<div class="tips-header">
  <div class="header-content">
    <div class="header-text">
      <h1>Tips Vui Của Đôi Vợ Chồng</h1>
      <p>Những bí kíp và kinh nghiệm thú vị từ cuộc sống hôn nhân của Ba Heo & Heo Bỉm</p>
    </div>
    <div class="header-stats">
      <div class="stat-item">
        <i class="pi pi-heart"></i>
        <span>{{ getTotalTips() }}</span>
        <label>Tips Chia Sẻ</label>
      </div>
      <div class="stat-item">
        <i class="pi pi-star"></i>
        <span>{{ getAverageRating() }}</span>
        <label>Đánh Giá TB</label>
      </div>
      <div class="stat-item">
        <i class="pi pi-users"></i>
        <span>{{ getTopContributor() }}</span>
        <label>Top Contributor</label>
      </div>
    </div>
  </div>
</div>

<div class="tips-container">
  <div class="max-w-6xl mx-auto px-4">

    <!-- Categories -->
    <div class="categories-section">
      <button *ngFor="let category of categories"
              (click)="selectedCategory = category.value; filterTips()"
              [class.active]="selectedCategory === category.value"
              class="category-button">
        <i [class]="category.icon"></i>
        {{ category.label }}
      </button>
    </div>

    <!-- Tips Grid -->
    <div class="tips-grid">
      <div *ngFor="let tip of filteredTips" class="tip-card">
        <div class="tip-header">
          <div class="category-icon" [style.background]="getTipCategoryColor(tip.category)">
            <i [class]="getTipCategoryIcon(tip.category)"></i>
          </div>
          <div>
            <h3>{{ tip.title }}</h3>
            <span>{{ getTipCategoryLabel(tip.category) }}</span>
          </div>
        </div>

        <div class="tip-content">
          <p>{{ tip.content }}</p>
        </div>

        <div class="tip-meta">
          <div class="meta-info">
            <div class="author">
              <i class="pi pi-user"></i>
              <span>{{ tip.author }}</span>
            </div>
            <div class="rating">
              <i class="pi pi-star-fill"></i>
              <span>{{ tip.rating }}/5</span>
            </div>
          </div>

          <div class="fun-level">
            <div class="level-header">
              <span>Độ vui:</span>
              <span>{{ tip.funLevel }}/5</span>
            </div>
            <div class="level-bar">
              <div class="progress" [style.width]="(tip.funLevel / 5 * 100) + '%'"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Tip Form -->
    <div class="add-tip-form">
      <h3>
        <i class="pi pi-plus"></i>
        Chia Sẻ Tip Của Bạn
      </h3>
      
      <div class="form-grid">
        <div class="form-group">
          <label>Tiêu đề tip</label>
          <input type="text"
                 [(ngModel)]="newTip.title"
                 placeholder="VD: Bí quyết giữ lửa tình yêu">
        </div>
        
        <div class="form-group">
          <label>Danh mục</label>
          <select [(ngModel)]="newTip.category">
            <option *ngFor="let cat of categories.slice(1)" [value]="cat.value">
              {{ cat.label }}
            </option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label>Nội dung tip</label>
        <textarea [(ngModel)]="newTip.content"
                  placeholder="Chia sẻ những kinh nghiệm, bí kíp thú vị của bạn...">
        </textarea>
      </div>

      <button class="submit-button"
              (click)="submitTip()"
              [disabled]="!canSubmitTip()">
        <i class="pi pi-send"></i>
        Chia Sẻ Tip
      </button>
    </div>

    <!-- Statistics -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">{{ getTotalTips() }}</div>
        <div class="stat-label">Tổng Tips</div>
      </div>
      
      <div class="stat-card">
        <div class="stat-value">{{ getAverageRating() }}</div>
        <div class="stat-label">Đánh giá TB</div>
      </div>
      
      <div class="stat-card">
        <div class="stat-value">{{ getMostPopularCategory() }}</div>
        <div class="stat-label">Danh mục phổ biến</div>
      </div>
      
      <div class="stat-card">
        <div class="stat-value">{{ getTopContributor() }}</div>
        <div class="stat-label">Người đóng góp nhiều</div>
      </div>
    </div>
  </div>
</div>
